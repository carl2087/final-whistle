{% extends 'base.html' %}

{% block content %}

<div class="row">
    <!-- forum entries column -->
    <div class="col s12">
        <div class="row">
            {% for post in post_list %}

            <div class="col s12 m6 l3">
                <div class="card medium  hoverable">
                    <div class="card-image">
                        {% if "placeholder" in post.feature_image.url %}
                        <img src="https://res.cloudinary.com/ddkb2afxq/image/upload/v1678024895/images-the-final-whistle/football-on-pitch_urfmwe.jpg">

                        <h5 class="card-title title-text">{{ post.team }}</h5>
                        {% else %}
                        <img src=" {{ post.feature_image.url }} ">

                        <h5 class="card-title title-text">{{ post.team }}</h5>
                        {% endif %}
                    </div>
                    <div class="card-content">
                        <h5 class="title-text"> {{ post.title }} </h5>
                        <p class="body-text"> {{ post.excerpt }} </p>
                    </div>
                    <div class="card-action body-text">
                        <strong><a class="card-link" href="{% url 'post_detail' post.slug %}">Full Post</a></strong>
                        <span><i class="fa-solid fa-turn-up vote-arrow"></i><strong> {{ post.num_of_upvotes }} </strong></span>
                        <span><i class="fa-solid fa-turn-down vote-arrow"></i><strong> {{ post.num_of_downvotes }} </strong></span>
                    </div>
                </div>
            </div>

            {% if forloop.counter|divisibleby:4 %}
        </div>
        <div class="row">
            {% endif %}
            {% endfor %}
        </div>
    </div>
        <!-- boilerplate code from django -->
        
    </div>
    {% if is_paginated %}
        <nav aria-label="Page navigation" class="page-navigation z-depth-0">
            <ul class="pagination">
                
                {% if page_obj.has_previous %}
                <li>
                    <a href="?page={{ page_obj.previous_page_number }}" class="waves-effect">
                        &laquo; PREV
                    </a>
                </li>
                {% endif %}
                {% if page_obj.has_next %}
                <li>
                    <a href="?page={{ page_obj.next_page_number }}" class="waves-effect">
                        NEXT &raquo;
                    </a>
                </li>
                {% endif %}
                
            </ul>
        </nav>
        {% endif %}

{% endblock %}